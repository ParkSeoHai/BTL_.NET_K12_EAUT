select * from TAIKHOANDANGNHAP
select * from THONGTINTAIKHOAN

update THONGTINTAIKHOAN set SoDu = SoDu - 50 where MaKH = 'KH0001'
update THONGTINTAIKHOAN set SoDu = SoDu + 50 where MaKH = 'KH0002'
select * from GIAODICH
drop table GIAODICH
-- GIAODICH
CREATE TABLE GIAODICH (
	MaGD NVARCHAR(20) NOT NULL PRIMARY KEY,
	SoTienGD FLOAT,
	NoiDungGD NVARCHAR(50),
	ThoiGianGD VARCHAR(20),
	SoTKNhan NVARCHAR(20) FOREIGN KEY REFERENCES THONGTINTAIKHOAN(SoTK),
	SoTKGui NVARCHAR(20) FOREIGN KEY REFERENCES THONGTINTAIKHOAN(SoTK)
)

INSERT INTO GIAODICH VALUES ('GD001', 1000000, N'Chuyển tiền', '07/01/2023' , '00999902082003', '00999901247652')
INSERT INTO GIAODICH VALUES ('GD002', 2000000, N'Chuyển tiền', '11/02/2023', '00999901247652', '00999902082003')
INSERT INTO GIAODICH VALUES ('GD003', 800000, N'Chuyển tiền', '14/03/2023', '00999908765454', '00999902082003')
select * from THONGTINTAIKHOAN
-- Số Tiền Đã Giao Dịch
select DISTINCT GIAODICH.MaGD, KHACHHANG.TenKH, GIAODICH.SoTienGD,GIAODICH.NoiDungGD, GIAODICH.SoTKNhan,  GIAODICH.ThoiGianGD from GIAODICH, THONGTINTAIKHOAN, KHACHHANG where GIAODICH.SoTKGui = THONGTINTAIKHOAN.SoTK and THONGTINTAIKHOAN.MaKH = KHACHHANG.MaKH and KHACHHANG.MaKH = 'KH0001'
-- Số Tiền Được Nhận
select * from GIAODICH where SoTKGui = '00999902082003'
select DISTINCT GIAODICH.MaGD, KHACHHANG.TenKH, GIAODICH.SoTienGD, GIAODICH.NoiDungGD, GIAODICH.SoTKGui, GIAODICH.ThoiGianGD  from GIAODICH, KHACHHANG, THONGTINTAIKHOAN where GIAODICH.SoTKNhan = '00999908765454' and KHACHHANG.MaKH = 
(select KHACHHANG.MaKH from KHACHHANG, THONGTINTAIKHOAN where KHACHHANG.MaKH = THONGTINTAIKHOAN.MaKH and THONGTINTAIKHOAN.SoTK = 
(select DISTINCT GIAODICH.SoTKGui  from GIAODICH, KHACHHANG, THONGTINTAIKHOAN where GIAODICH.SoTKNhan = '00999908765454'))
select * from GIAODICH
delete from GIAODICH
insert into GIAODICH values ('GD001221', '1000', N'TEST', '100', '00999902082003', '00999901247652')